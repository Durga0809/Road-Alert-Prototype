<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Madurai Smart Road Alert System</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{background:#1a2a3a;font-family:'Segoe UI',Arial;margin:0;padding:10px;}

.main-wrapper{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;max-width:1200px;margin:20px auto;}

.chat-container{
flex:1;min-width:320px;max-width:500px;background:#001f3f;border-radius:15px;
display:flex;flex-direction:column;height:600px;color:#fff;
}

.chat-header{background:#0074D9;padding:15px;text-align:center;font-weight:bold;border-radius:15px 15px 0 0;}

.chat-body{flex:1;padding:15px;overflow-y:auto;}

.chat-message{margin-bottom:12px;display:flex;}
.user-msg{justify-content:flex-end;}
.bot-msg{justify-content:flex-start;}

.msg-content{padding:12px 16px;border-radius:15px;max-width:80%;}
.user-msg .msg-content{background:#0074D9;color:white;}
.bot-msg .msg-content{background:#e2e2e2;color:#001f3f;}

.chat-footer{padding:15px;display:flex;gap:10px;border-top:1px solid #0a2e52;}

.map-container{flex:1.2;min-width:320px;height:600px;background:#fff;border-radius:15px;overflow:hidden;border:4px solid #0074D9;}
iframe{width:100%;height:100%;border:none;}

@media (max-width:992px){
.main-wrapper{flex-direction:column;}
.chat-container,.map-container{height:500px;}
}
</style>
</head>

<body>

<h2 class="text-center text-white fw-bold">Madurai Smart Road Assistant</h2>

<div class="main-wrapper">

<!-- CHAT -->
<div class="chat-container">

<div class="chat-header">Madurai Road Alert Bot</div>

<div class="chat-body" id="chatBody">
<div class="bot-msg">
<div class="msg-content">Vanakkam! Select area from dropdown ЁЯЪж</div>
</div>
</div>

<div class="chat-footer">

<select id="areaSelect" class="form-select">
<option value="">Select Area...</option>
</select>

<button class="btn btn-primary" onclick="selectArea()">Check</button>
<button class="btn btn-success" onclick="speakMessage()">ЁЯФК</button>

</div>
</div>

<!-- MAP -->
<div class="map-container">
<iframe id="googleMap"
src="https://maps.google.com/maps?q=Madurai&t=&z=13&output=embed">
</iframe>
</div>

</div>

<script>

// ЁЯФе FULL AREA LIST
const areaMap = {
"anaiyur":"роЕрогрпИропрпВро░рпН","kannanendal":"роХрогрпНрогройрпЗроирпНродро▓рпН","melamadai":"роорпЗро▓роороЯрпИ",
"vilangudi":"ро╡ро┐ро│ро╛роЩрпНроХрпБроЯро┐","k. pudur":"роХрпЗ.рокрпБродрпВро░рпН","bibikulam":"рокро┐рокро┐роХрпБро│роорпН",
"chinna chokkikulam":"роЪро┐ройрпНройроЪрпНроЪрпКроХрпНроХро┐роХрпНроХрпБро│роорпН","chokikulam":"роЪрпКроХрпНроХро┐роХрпНроХрпБро│роорпН",
"alagar kovil road":"роЕро┤роХро░рпН роХрпЛро╡ро┐ро▓рпН ро░рпЛроЯрпБ","narasingam":"роиро░роЪро┐роЩрпНроХроорпН",
"othakadai":"роТродрпНродроХроЯрпИ","kallandhiri":"роХро▓рпНро▓роирпНродро┐ро░ро┐","paravai":"рокро░ро╡ро╛ропрпН",
"alagappan nagar":"роЕро┤роХрокрпНрокройрпН роироХро░рпН","anna nagar":"роЕрогрпНрогро╛ роироХро░рпН",
"gandhi nagar":"роХро╛роирпНродро┐ роироХро░рпН","andarkottaram":"роЕрогрпНроЯро▒рпНроХрпЛроЯрпНроЯро╛ро░роорпН",
"appanthirupathiarappalayam":"роЕрокрпНрокроирпНродрпБро░рпБрокрпНрокродро┐ропро░рокрпНрокро╛ро│ропроорпН",
"kochadai":"роХрпКроЪрпНроЪроЯрпИ","bethaniyapuram":"рокрпЖродро╛ройро┐ропро╛рокрпБро░роорпН",
"koodal nagar":"роХрпВроЯро▓рпН роироХро░рпН","andalpuram":"роЕрогрпНроЯро▓рпНрокрпБро░роорпН","melamathur":"роорпЗро▓роородрпВро░рпН",
"keezhamathur":"роХрпАро┤роородрпВро░рпН","thuvariman":"родрпБро╡ро╛ро░ро┐рооро╛ройрпН","achampattu":"роЖроЪрпНроЪроорпНрокроЯрпНроЯрпБ",
"pudukulam":"рокрпБродрпБроХрпНроХрпБро│роорпН","meenambalpuram":"роорпАройроорпНрокро╛ро▓рпН рокрпБро▒роорпН",
"gnanavolivupuram":"роЮро╛ройро╡рпКро│ро┐ро╡рпБрокрпНрокрпБро░роорпН","mahapupalayam":"роороХро╛рокрпНрокрпБрокро╛ро│ропроорпН",
"muthuramalingapuram":"роорпБродрпБро░ро╛рооро▓ро┐роЩрпНроХрокрпБро░роорпН",
"avaniapuram":"роЕро╡ройро┐ропро╛рокрпБро░роорпН","thirupparankundram":"родро┐ро░рпБрокрпНрокро░роЩрпНроХрпБройрпНро▒роорпН","thirunagar":"родро┐ро░рпБроироХро░рпН",
"jaihindpuram":"роЬрпЖропрпНро╣ро┐роирпНродрпНрокрпБро░роорпН","chinna anuppanadi":"роЪро┐ройрпНрой роЕройрпБрокрпНрокро╛роироЯро┐",
"iravadanallur":"роЗро░ро╡роЯроиро▓рпНро▓рпВро░рпН","villacheri":"ро╡ро┐ро▓рпНро▓роЪрпНроЪрпЗро░ро┐",
"harveypatti":"ро╣ро╛ро░рпНро╡ро┐рокроЯрпНроЯро┐","chinthamani":"роЪро┐роирпНродро╛роорогро┐","viraganur":"ро╡ро┐ро░ро╛роХройрпВро░рпН",
"kamarajar salai":"роХро╛рооро░ро╛роЬро░рпН роЪро╛ро▓рпИ","tepakulam":"родрпЗрокроХрпБро│роорпН",
"vandiyur":"ро╡рогрпНроЯро┐ропрпВро░рпН","arumbanur":"роЕро░рпБроорпНрокройрпВро░рпН","athalai":"роЕродрпНродро▓рпИ",
"ayilankudi":"роРро▓ро╛роЩрпНроХрпБроЯро┐","chatrapatti":"роЪродрпНродро┐ро░рокроЯрпНроЯро┐","chettikulam":"роЪрпЖроЯрпНроЯро┐роХрпНроХрпБро│роорпН",
"chinnapatti":"роЪро┐ройрпНройрокрпНрокроЯрпНроЯро┐","othaialangulam":"роТродрпНродрпИропро▓роЩрпНроХрпБро│роорпН","simmakkal":"роЪро┐роорпНроороХрпНроХро▓рпН",
"periyar nagar":"рокрпЖро░ро┐ропро╛ро░рпН роироХро░рпН","karumandapam":"роХро░рпБроороирпНродрокроорпН","sellur":"роЪрпЖро▓рпНро▓рпВро░рпН",
"thathaneri":"родро╛родрпНродройрпЗро░ро┐","gomathi nagar":"роХрпЛроородро┐ роироХро░рпН","usilampatti road":"роЙроЪро┐ро▓роорпНрокроЯрпНроЯро┐ ро░рпЛроЯрпБ",
"kappalur":"роХрокрпНрокро▓рпВро░рпН","madakulam":"рооро╛роЯро╛роХрпБро│роорпН","raja nagar":"ро░ро╛роЬро╛ роироХро░рпН","arasaradi":"роЕро░роЪро░ро╛роЯро┐",
"nelpettai":"роирпЖро▒рпНрокрпЗроЯрпНроЯрпИ","thirumangalam":"родро┐ро░рпБроороЩрпНроХро▓роорпН","usilampatti":"роЙроЪро┐ро▓роорпНрокроЯрпНроЯро┐",
"melur":"роорпЗро▓рпВро░рпН","sivagangai road":"роЪро┐ро╡роХроЩрпНроХрпИ ро░рпЛроЯрпБ","palanganatham":"рокро╛ро▓роЩрпНроХроиро╛родроорпН",
"thamukkam":"родроорпБроХрпНроХроорпН","erapanpatty":"роПро░ро╛рокройрпНрокроЯрпНроЯро┐","kallikudi":"роХро▓рпНро▓ро┐роХрпНроХрпБроЯро┐",
"thamaraikulam":"родро╛рооро░рпИроХрпБро│роорпН","anuppanadi":"роЕройрпБрокрпНрокро╛роироЯро┐","sungam":"роЪрпБроЩрпНроХроорпН",
"keelavasal":"роХрпАро┤рпНро╡ро╛роЪро▓рпН","nanmangalam":"роиро╛ройрпНроороЩрпНроХро▓роорпН"
};

// Messages
const messages=[
"road blocked ЁЯЪз",
"minor traffic jam ЁЯЪж",
"accident reported тЪая╕П",
"heavy traffic ЁЯЪж",
"road under maintenance ЁЯЫая╕П",
"road is clear тЬЕ"
];

const areaScenarios={};
for(const area in areaMap){
areaScenarios[area]=messages[Math.floor(Math.random()*messages.length)];
}

let lastBotMessage="";

// ЁЯФе Fill dropdown with ALL areas
window.onload=function(){
const select=document.getElementById("areaSelect");

for(const [eng,tam] of Object.entries(areaMap)){
const option=document.createElement("option");
option.value=eng;
option.textContent=eng.toUpperCase()+" тАФ "+tam;
select.appendChild(option);
}
}

// Select area
function selectArea(){
const area=document.getElementById("areaSelect").value;
if(!area) return;

appendMessage(area.toUpperCase(),"user-msg");

const msg=areaScenarios[area];
const response=`${area.toUpperCase()}: ${msg}\n${areaMap[area]}: ${msg}`;

appendMessage(response,"bot-msg");
lastBotMessage=response;

updateMap(area);
}

// Map update
function updateMap(area){
document.getElementById("googleMap").src=
`https://maps.google.com/maps?q=${area},Madurai&t=&z=15&output=embed`;
}

// Append message
function appendMessage(msg,type){
const chatBody=document.getElementById("chatBody");
const div=document.createElement("div");
div.className=`chat-message ${type}`;
div.innerHTML=`<div class="msg-content">${msg.replace(/\n/g,"<br>")}</div>`;
chatBody.appendChild(div);
chatBody.scrollTop=chatBody.scrollHeight;
}

// Speak
function speakMessage(){
if(!lastBotMessage) return;
window.speechSynthesis.speak(new SpeechSynthesisUtterance(lastBotMessage));
}

</script>

</body>
</html>